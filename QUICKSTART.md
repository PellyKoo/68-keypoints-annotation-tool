# 快速开始指南

## 5分钟上手

### 1. 安装依赖（首次使用）

```bash
pip install -r requirements.txt
```

### 2. 运行程序

```bash
python keypoint_annotation_tool.py
```

### 3. 打开图片目录

1. 点击菜单：**文件** → **打开目录**
2. 选择包含人脸图片的文件夹
3. 程序会自动加载所有图片

### 4. 开始标注

#### 标注第一个点
1. 在右侧列表中找到 "1: 未标注"（红色显示）
2. 点击它
3. 鼠标变成十字光标
4. 在图片上点击对应的关键点位置
5. 点就被添加了！

#### 继续标注其他点
- 重复上述步骤，标注2-68号点
- 已标注的点会显示为 "编号: (x, y)" 的格式

### 5. 查看标准参考图

- 右下角显示标准的68个关键点示意图
- 点击列表中的点，主图和参考图会同时高亮
- 方便对比位置是否正确

### 6. 修改标注

#### 移动点
1. 在图片上点击要修改的点（选中后变红色）
2. 按住左键拖动到新位置
3. 松开鼠标，自动保存

#### 删除点
1. 选中要删除的点
2. 按 **Delete** 键
3. 点被删除，列表中显示为"未标注"

### 7. 切换图片

- 按 **D** 键：下一张
- 按 **A** 键：上一张
- 切换时自动保存当前图片的标注

### 8. 缩放和移动图片

- **滚轮**：放大/缩小
- **右键拖动**：移动图片
- **Ctrl+F**：适应窗口大小

## 常用快捷键

| 按键 | 功能 |
|------|------|
| A | 上一张图片 |
| D | 下一张图片 |
| 滚轮 | 缩放 |
| Ctrl+Z | 撤销 |
| Ctrl+S | 保存 |
| Delete | 删除选中的点 |

## 标注结果保存位置

标注会自动保存在图片所在目录，每张图片对应一个同名的 `.json` 文件。

例如：
```
your_folder/
├── face1.jpg      ← 图片
├── face1.json     ← 标注结果
├── face2.jpg
├── face2.json
└── ...
```

## 68个关键点说明

人脸68个关键点的标准分布：
- 1-17：脸部轮廓
- 18-22：右眉毛
- 23-27：左眉毛
- 28-36：鼻子
- 37-42：右眼
- 43-48：左眼
- 49-68：嘴巴

具体位置请参考右下角的标准参考图。

## 标注技巧

### 1. 从明显的点开始
建议标注顺序：
1. 眼角（37, 40, 43, 46）
2. 嘴角（49, 55）
3. 鼻尖（34）
4. 再标注其他点

### 2. 使用参考图
- 不确定某个点的位置时
- 点击列表中的编号
- 查看参考图中高亮的点
- 对比标注

### 3. 善用撤销
- 标错了？按 Ctrl+Z 撤销
- 最多可以撤销10步操作

### 4. 调整顺序
- 如果标错了编号
- 在列表中拖动点到正确位置
- 确认交换即可

## 遇到问题？

### 程序无法启动
```bash
# 确保安装了PyQt5
pip install PyQt5
```

### 找不到标准参考图
- 将标准图片放在 `std_pic/facial_landmarks_68markup.jpg`
- 或通过菜单：文件 → 选择标准图

### 图片无法加载
- 确认图片格式为：jpg, jpeg, png, bmp
- 检查文件是否损坏

### 标注没有保存
- 检查是否开启了自动保存：设置 → 自动保存 ✓
- 或手动保存：Ctrl+S

## 下一步

查看完整文档 [README.md](README.md) 了解更多高级功能！
